<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>OpenMoCo AVR Libraries: OMCamera Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenMoCo AVR Libraries
   </div>
   <div id="projectbrief">Motion Control and MoCoBus Libraries for the AVR Platform</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_o_m_camera.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">OMCamera Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Camera Action Manager.  
 <a href="class_o_m_camera.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_o_m_camera_8h_source.html">OMCamera.h</a>&gt;</code></p>

<p><a href="class_o_m_camera-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab35e2b87200c84afc184d63055c090bc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_camera.html#ab35e2b87200c84afc184d63055c090bc">OMCamera</a> ()</td></tr>
<tr class="memitem:a91872b13dae514d610f62f1ffb9ae600"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_camera.html#a91872b13dae514d610f62f1ffb9ae600">OMCamera</a> (uint8_t, uint8_t)</td></tr>
<tr class="memitem:a5cc55f2fc4fa7abccee93fa19487f6af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_camera.html#a5cc55f2fc4fa7abccee93fa19487f6af">setHandler</a> (void(*)(uint8_t))</td></tr>
<tr class="memitem:a3e06064006313c3d91fedc83b8913b4c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_camera.html#a3e06064006313c3d91fedc83b8913b4c">expose</a> ()</td></tr>
<tr class="memitem:a1a7398c48c795664cd5c5ecf49f6138d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_camera.html#a1a7398c48c795664cd5c5ecf49f6138d">expose</a> (unsigned long)</td></tr>
<tr class="memitem:aea2f557583c7aa57895a95e8e0f3d45b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_camera.html#aea2f557583c7aa57895a95e8e0f3d45b">exposeTime</a> (unsigned long)</td></tr>
<tr class="memitem:aee2091e554176885ca5af29a44013e15"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_camera.html#aee2091e554176885ca5af29a44013e15">exposeTime</a> ()</td></tr>
<tr class="memitem:ac6176a0b48402e885726e6f7a88309c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_camera.html#ac6176a0b48402e885726e6f7a88309c2">exposureFocus</a> (bool)</td></tr>
<tr class="memitem:acfd704f3ba532ccf17108280a3efa6e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_camera.html#acfd704f3ba532ccf17108280a3efa6e6">focus</a> ()</td></tr>
<tr class="memitem:a88ee0b47a4af54ec566b3ee2ac5ebef2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_camera.html#a88ee0b47a4af54ec566b3ee2ac5ebef2">focus</a> (unsigned int)</td></tr>
<tr class="memitem:a0cda95ea582b18b539b5ac31ffd627b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_camera.html#a0cda95ea582b18b539b5ac31ffd627b4">focusTime</a> (unsigned int)</td></tr>
<tr class="memitem:a52772dda67128629bd38040ba94a8813"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_camera.html#a52772dda67128629bd38040ba94a8813">focusTime</a> ()</td></tr>
<tr class="memitem:aa3b21853f890838c88d047d6c2786917"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_camera.html#aa3b21853f890838c88d047d6c2786917">wait</a> ()</td></tr>
<tr class="memitem:a9fb90b8c76df3039da3782e1d1afa907"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_camera.html#a9fb90b8c76df3039da3782e1d1afa907">wait</a> (unsigned int)</td></tr>
<tr class="memitem:a65dc6e4047a7bc732324bf3e46f6c6f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_camera.html#a65dc6e4047a7bc732324bf3e46f6c6f0">waitTime</a> (unsigned int)</td></tr>
<tr class="memitem:a5e940d2395c9b077d1619840bedb6a85"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_camera.html#a5e940d2395c9b077d1619840bedb6a85">waitTime</a> ()</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ae95edfbb78f3030b37041e8051eac019"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_camera.html#ae95edfbb78f3030b37041e8051eac019">busy</a> ()</td></tr>
<tr class="memitem:a8c528baf37154d347366083f0f816846"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_m_camera.html#a8c528baf37154d347366083f0f816846">stop</a> ()</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Camera Action Manager. </p>
<p>The Caamera Action Manager class controls a camera's focus and shutter lines, given that these lines are attached to an arduino device via an optocoupler or similar device. The focus and shutter lines are driven HIGH to trigger the given action.</p>
<p>All actions performed by the Camera Action Manager are non-blocking, and this library uses the MsTimer2 library to achieve this. For this reason, you may only have one such object instantiated in your program, and under no circumstances should you attempt to use MsTimer2 in another part of your program while a camera action is being performed.</p>
<p>Status reporting from the Camera Manager is handled via a callback function, which you may specify. This function will be called at the beginning and completion of any action with a special code to indicate the status. For more information on this, see <a class="el" href="class_o_m_camera.html#a5cc55f2fc4fa7abccee93fa19487f6af">setHandler()</a>.</p>
<p>The default pins for the shutter and focus are 13 and 12, respectively. You may, however specify the shutter and focus pins via the constructor.</p>
<p>Example:</p>
<div class="fragment"><div class="line">   <span class="comment">// note: You -always- have to include the MSTimer2 library in an arduino</span></div>
<div class="line">   <span class="comment">// sketch before including the OMCamera header</span></div>
<div class="line">   </div>
<div class="line"><span class="preprocessor">#include &quot;MsTimer2.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;OMCamera.h&quot;</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="class_o_m_camera.html" title="Camera Action Manager.">OMCamera</a> Camera = <a class="code" href="class_o_m_camera.html#ab35e2b87200c84afc184d63055c090bc">OMCamera</a>();</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> setup() {</div>
<div class="line"></div>
<div class="line">  Camera.<a class="code" href="class_o_m_camera.html#a5cc55f2fc4fa7abccee93fa19487f6af">setHandler</a>(camCallBack);</div>
<div class="line">  </div>
<div class="line">  Serial.begin(19200);</div>
<div class="line">  </div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> loop() {</div>
<div class="line">  </div>
<div class="line">  <span class="keywordflow">if</span>( ! Camera.<a class="code" href="class_o_m_camera.html#ae95edfbb78f3030b37041e8051eac019">busy</a>()  ) {</div>
<div class="line">      <span class="comment">// camera is not busy doing anything, so we&#39;re ready to</span></div>
<div class="line">      <span class="comment">// start another cycle</span></div>
<div class="line">    Serial.println(<span class="stringliteral">&quot;Round Begin, Triggering Focus&quot;</span>);</div>
<div class="line">    Camera.<a class="code" href="class_o_m_camera.html#acfd704f3ba532ccf17108280a3efa6e6">focus</a>(1000);</div>
<div class="line">  }</div>
<div class="line">    </div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> camCallBack(byte code) {</div>
<div class="line">  </div>
<div class="line">  <span class="keywordflow">switch</span>(code) {</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">case</span> OM_CAM_FFIN:  <span class="comment">// focus finish code received</span></div>
<div class="line">      </div>
<div class="line">      Serial.println(<span class="stringliteral">&quot;Focus Done, Triggering Exposure&quot;</span>);</div>
<div class="line">        <span class="comment">// trigger an exposure </span></div>
<div class="line">      Camera.<a class="code" href="class_o_m_camera.html#a3e06064006313c3d91fedc83b8913b4c">expose</a>(1000);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">      </div>
<div class="line">    <span class="keywordflow">case</span> OM_CAM_EFIN: <span class="comment">// exposure finish code received</span></div>
<div class="line">    </div>
<div class="line">      Serial.println(<span class="stringliteral">&quot;Exposure Done, Waiting.&quot;</span>);</div>
<div class="line">      </div>
<div class="line">        <span class="comment">// wait (non-blocking wait implemented via timer2) for 10 seconds</span></div>
<div class="line">      Camera.<a class="code" href="class_o_m_camera.html#aa3b21853f890838c88d047d6c2786917">wait</a>(10000);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">      </div>
<div class="line">    <span class="keywordflow">case</span> OM_CAM_WFIN: <span class="comment">// wait finish code received</span></div>
<div class="line">    </div>
<div class="line">        <span class="comment">// we do nothing, because this is the end of a sshot cycle -</span></div>
<div class="line">        <span class="comment">// the main loop will pick up again witth focus, because the</span></div>
<div class="line">        <span class="comment">// camera will no longer register as busy.</span></div>
<div class="line">        </div>
<div class="line">      Serial.println(<span class="stringliteral">&quot;Wait Done, Round Complete&quot;</span>);</div>
<div class="line">      Serial.println(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="section author"><dt>Author:</dt><dd>C. A. Church</dd></dl>
<p>(c) 2011 C. A. Church / Dynamic Perception</p>
<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>. </p>

<p>Definition at line <a class="el" href="_o_m_camera_8h_source.html#l00139">139</a> of file <a class="el" href="_o_m_camera_8h_source.html">OMCamera.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab35e2b87200c84afc184d63055c090bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_m_camera.html">OMCamera</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor</p>
<p>Constructs a new instance of the class, with the default pin assignments for Shutter and Focus pins (13, 12). </p>

<p>Definition at line <a class="el" href="_o_m_camera_8cpp_source.html#l00060">60</a> of file <a class="el" href="_o_m_camera_8cpp_source.html">OMCamera.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a91872b13dae514d610f62f1ffb9ae600"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_m_camera.html">OMCamera</a> </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>shut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>foc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor</p>
<p>Constructs a new instance of the class, with the specified pin assignments</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">shut</td><td>The arduino digital pin for the shutter line</td></tr>
    <tr><td class="paramname">foc</td><td>The arduino digital pin for the focus line </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_o_m_camera_8cpp_source.html#l00076">76</a> of file <a class="el" href="_o_m_camera_8cpp_source.html">OMCamera.cpp</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ae95edfbb78f3030b37041e8051eac019"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool busy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Camera Busy</p>
<p>Returns whether or not the camera is currently busy (in a non-blocking timer such as an expose, focus, or wait action). Do not attempt to trigger a camera action when the camera is busy, otherwise you may cause some actions to not stop.</p>
<dl class="section return"><dt>Returns:</dt><dd>true if busy, false if not </dd></dl>

<p>Definition at line <a class="el" href="_o_m_camera_8cpp_source.html#l00111">111</a> of file <a class="el" href="_o_m_camera_8cpp_source.html">OMCamera.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3e06064006313c3d91fedc83b8913b4c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void expose </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Trigger Exposure</p>
<p>This method triggers an exposure for the amount of time as set via <a class="el" href="class_o_m_camera.html#aee2091e554176885ca5af29a44013e15">exposeTime()</a>. Sends an expose begin signal. </p>

<p>Definition at line <a class="el" href="_o_m_camera_8cpp_source.html#l00267">267</a> of file <a class="el" href="_o_m_camera_8cpp_source.html">OMCamera.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1a7398c48c795664cd5c5ecf49f6138d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void expose </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>p_Time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Trigger Exposure</p>
<p>This method triggers an exposure for the amount of time specified. Sends an expose begin signal.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_Time</td><td>Length (in milliseconds) of the exposure. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_o_m_camera_8cpp_source.html#l00281">281</a> of file <a class="el" href="_o_m_camera_8cpp_source.html">OMCamera.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aea2f557583c7aa57895a95e8e0f3d45b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void exposeTime </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>tm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set Default Exposure Time</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">tm</td><td>Exposure time, in milliseconds </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_o_m_camera_8cpp_source.html#l00388">388</a> of file <a class="el" href="_o_m_camera_8cpp_source.html">OMCamera.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aee2091e554176885ca5af29a44013e15"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long exposeTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get Default Post-Exposure Delay Time</p>
<dl class="section return"><dt>Returns:</dt><dd>Delay time, in milliseconds </dd></dl>

<p>Definition at line <a class="el" href="_o_m_camera_8cpp_source.html#l00428">428</a> of file <a class="el" href="_o_m_camera_8cpp_source.html">OMCamera.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac6176a0b48402e885726e6f7a88309c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void exposureFocus </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>en</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enable Focus with Exposure</p>
<p>Toggles whether or not the focus line should be triggered when the exposure line is triggered. Thiss is required by some camera manufacturers.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">en</td><td>Enable (true) or disable (false) this setting. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_o_m_camera_8cpp_source.html#l00441">441</a> of file <a class="el" href="_o_m_camera_8cpp_source.html">OMCamera.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="acfd704f3ba532ccf17108280a3efa6e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void focus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Trigger Focus</p>
<p>This method triggers a focus for the amount of time as set via <a class="el" href="class_o_m_camera.html#a52772dda67128629bd38040ba94a8813">focusTime()</a>. Sends a focus begin signal. </p>

<p>Definition at line <a class="el" href="_o_m_camera_8cpp_source.html#l00331">331</a> of file <a class="el" href="_o_m_camera_8cpp_source.html">OMCamera.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a88ee0b47a4af54ec566b3ee2ac5ebef2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void focus </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>p_Time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Trigger Focus</p>
<p>This method triggers a focus for the amount of time specified. Sends a focus begin signal.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_Time</td><td>Length (in milliseconds) of the focus. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_o_m_camera_8cpp_source.html#l00345">345</a> of file <a class="el" href="_o_m_camera_8cpp_source.html">OMCamera.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0cda95ea582b18b539b5ac31ffd627b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void focusTime </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>tm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set Default Focus Time</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">tm</td><td>Focus time, in milliseconds </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_o_m_camera_8cpp_source.html#l00378">378</a> of file <a class="el" href="_o_m_camera_8cpp_source.html">OMCamera.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a52772dda67128629bd38040ba94a8813"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int focusTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get Default Focus Delay Time</p>
<dl class="section return"><dt>Returns:</dt><dd>Focus time, in milliseconds </dd></dl>

<p>Definition at line <a class="el" href="_o_m_camera_8cpp_source.html#l00418">418</a> of file <a class="el" href="_o_m_camera_8cpp_source.html">OMCamera.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5cc55f2fc4fa7abccee93fa19487f6af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setHandler </td>
          <td>(</td>
          <td class="paramtype">void(*)(uint8_t)&#160;</td>
          <td class="paramname"><em>p_Func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set Callback Handler</p>
<p>As actions start and complete, a callback is used to signal what is happening, without having to query the method to see if a given action is still occuring.</p>
<p>By passing a function pointer to this method, that function will be executed at each one of these moments, and passed a single, one byte argument that matches the signal which is to be sent. The template for this function is:</p>
<div class="fragment"><div class="line"> <span class="keywordtype">void</span> <span class="keyword">function</span>(byte val) { }</div>
</div><!-- fragment --><p>The following codes are defined:</p>
<div class="fragment"><div class="line"> Start Signals:</div>
<div class="line"> </div>
<div class="line">   OM_CAMEXP</div>
<div class="line">      - The camera exposure has begun</div>
<div class="line">   OM_CAMFOC</div>
<div class="line">      - The camera <a class="code" href="class_o_m_camera.html#acfd704f3ba532ccf17108280a3efa6e6">focus</a> has begun</div>
<div class="line">   OM_CAMWAIT</div>
<div class="line">      - The delay has begun</div>
<div class="line"> </div>
<div class="line"> End Signals:</div>
<div class="line"> </div>
<div class="line">   OM_CAM_EFIN</div>
<div class="line">     - The camera exposure has completed</div>
<div class="line">   OM_CAM_FFIN</div>
<div class="line">     - The camera <a class="code" href="class_o_m_camera.html#acfd704f3ba532ccf17108280a3efa6e6">focus</a> has completed</div>
<div class="line">   OM_CAM_WFIN</div>
<div class="line">     - The delay has completed</div>
</div><!-- fragment --><p>An example of an appropriate callback handler:</p>
<div class="fragment"><div class="line"><span class="preprocessor"> #include &quot;OMCamera.h&quot;</span></div>
<div class="line"> </div>
<div class="line"> <a class="code" href="class_o_m_camera.html" title="Camera Action Manager.">OMCamera</a> Camera = <a class="code" href="class_o_m_camera.html#ab35e2b87200c84afc184d63055c090bc">OMCamera</a>();</div>
<div class="line"> </div>
<div class="line"> <span class="keywordtype">void</span> setup() {</div>
<div class="line"> </div>
<div class="line">   Camera.<a class="code" href="class_o_m_camera.html#a5cc55f2fc4fa7abccee93fa19487f6af">setHandler</a>(camSignal);</div>
<div class="line"> }</div>
<div class="line"> </div>
<div class="line"> <span class="keywordtype">void</span> loop() {</div>
<div class="line"></div>
<div class="line">    <span class="comment">// shoot one shot after another</span></div>
<div class="line">  <span class="keywordflow">if</span>( ! Camera.<a class="code" href="class_o_m_camera.html#ae95edfbb78f3030b37041e8051eac019">busy</a>() )</div>
<div class="line">        Camera.<a class="code" href="class_o_m_camera.html#a3e06064006313c3d91fedc83b8913b4c">expose</a>(2000);</div>
<div class="line">        </div>
<div class="line">  </div>
<div class="line"> }</div>
<div class="line"> </div>
<div class="line"> <span class="keywordtype">void</span> camSignal(byte signal) {</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">if</span>( signal == OM_CAM_EFIN) </div>
<div class="line">        Serial.println(<span class="stringliteral">&quot;Exposure Done!&quot;</span>);</div>
<div class="line">   </div>
<div class="line"> }</div>
</div><!-- fragment --><dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_Func</td><td>A pointer to a function taking a single byte argument </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_o_m_camera_8cpp_source.html#l00187">187</a> of file <a class="el" href="_o_m_camera_8cpp_source.html">OMCamera.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8c528baf37154d347366083f0f816846"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Stop Current Action Immediately</p>
<p>Stops an ongoing action immediately. Sends an action complete signal when done.</p>
<p>Any action, whether a focus, expose, or wait action, can be stopped using this method. When the action is stopped, the current callback is executed and passed the correct complete signal for the action. See <a class="el" href="class_o_m_camera.html#a5cc55f2fc4fa7abccee93fa19487f6af">setHandler()</a> for more information on this callback. </p>

<p>Definition at line <a class="el" href="_o_m_camera_8cpp_source.html#l00205">205</a> of file <a class="el" href="_o_m_camera_8cpp_source.html">OMCamera.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa3b21853f890838c88d047d6c2786917"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wait </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Trigger Delay</p>
<p>This method triggers a delay action for the amount of time as set via <a class="el" href="class_o_m_camera.html#a5e940d2395c9b077d1619840bedb6a85">waitTime()</a>. Sends a delay begin signal. </p>

<p>Definition at line <a class="el" href="_o_m_camera_8cpp_source.html#l00453">453</a> of file <a class="el" href="_o_m_camera_8cpp_source.html">OMCamera.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9fb90b8c76df3039da3782e1d1afa907"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wait </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>p_Time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Trigger Delay</p>
<p>This method triggers a delay action for the amount of time specified. Sends a delay begin signal.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_Time</td><td>Length (in milliseconds) of the delay. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_o_m_camera_8cpp_source.html#l00467">467</a> of file <a class="el" href="_o_m_camera_8cpp_source.html">OMCamera.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a65dc6e4047a7bc732324bf3e46f6c6f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void waitTime </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>tm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set Default Delay Time</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">tm</td><td>Delay time, in milliseconds </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_o_m_camera_8cpp_source.html#l00398">398</a> of file <a class="el" href="_o_m_camera_8cpp_source.html">OMCamera.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5e940d2395c9b077d1619840bedb6a85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int waitTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get Default Delay Time</p>
<dl class="section return"><dt>Returns:</dt><dd>Delay time, in milliseconds </dd></dl>

<p>Definition at line <a class="el" href="_o_m_camera_8cpp_source.html#l00408">408</a> of file <a class="el" href="_o_m_camera_8cpp_source.html">OMCamera.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_o_m_camera_8h_source.html">OMCamera.h</a></li>
<li><a class="el" href="_o_m_camera_8cpp_source.html">OMCamera.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_o_m_camera.html">OMCamera</a></li>
    <li class="footer">Generated on Sun Jun 17 2012 13:59:32 for OpenMoCo AVR Libraries by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.1 </li>
  </ul>
</div>
</body>
</html>
